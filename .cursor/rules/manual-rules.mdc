---
description: 明示的に@manual-rulesで指定した場合にのみ適用される高度なルール
alwaysApply: false
---

# Manual Rules

このルールは、`@manual-rules` で明示的に指定した場合にのみ適用されます。

## 高度なパターンとベストプラクティス

### デザインパターン

- **Repository パターン**: データアクセス層を抽象化
- **Factory パターン**: オブジェクト生成をカプセル化
- **Strategy パターン**: アルゴリズムを交換可能に
- **Observer パターン**: イベント駆動アーキテクチャ

### パフォーマンス最適化

- **メモ化**: 計算結果をキャッシュして再計算を避ける
- **遅延読み込み**: 必要な時だけリソースを読み込む
- **バッチ処理**: 複数の操作をまとめて実行
- **インデックス最適化**: データベースクエリの高速化

### アーキテクチャパターン

- **クリーンアーキテクチャ**: 依存関係の方向を制御
- **ヘキサゴナルアーキテクチャ**: ポートとアダプターで分離
- **CQRS**: 読み取りと書き込みを分離
- **イベントソーシング**: イベントストリームで状態管理

### 高度なエラーハンドリング

- **Result型**: エラーを型安全に扱う
- **Retry戦略**: 一時的なエラーに対する再試行ロジック
- **Circuit Breaker**: 障害のあるサービスを保護
- **Graceful Degradation**: 部分的な機能停止に対応

### セキュリティベストプラクティス

- **OWASP Top 10** の対策を実装
- **Rate Limiting**: APIの過剰なリクエストを制限
- **CORS設定**: 適切なオリジン制限
- **Content Security Policy**: XSS攻撃の防止

### モニタリングとオブザーバビリティ

- **構造化ログ**: JSON形式でログを出力
- **分散トレーシング**: リクエストの追跡
- **メトリクス収集**: パフォーマンス指標の監視
- **アラート設定**: 異常検知と通知
