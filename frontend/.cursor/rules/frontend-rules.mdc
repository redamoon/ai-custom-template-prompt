---
description: フロントエンド開発用のルール
globs: ["frontend/**/*", "client/**/*", "src/components/**/*", "src/pages/**/*"]
alwaysApply: false
---

# Frontend Rules

このルールは、フロントエンドディレクトリ（`frontend/`、`client/`、`src/components/`など）のコードに自動的に適用されます。

## コンポーネント設計

### コンポーネントの構造

- **Presentational Components**: UIのみを担当
- **Container Components**: データ取得とロジックを担当
- **Custom Hooks**: 再利用可能なロジックを抽出

### コンポーネントの命名

- コンポーネント名はPascalCase
- ファイル名はコンポーネント名と一致
- 1ファイル1コンポーネント

## 状態管理

### 状態管理の選択

- **ローカル状態**: `useState` で管理
- **グローバル状態**: Context API、Redux、Zustandなど
- **サーバー状態**: React Query、SWRなど

### 状態の設計原則

- 状態は必要最小限に保つ
- 状態の持ち上げを適切に行う
- 不変性を保つ（Immutable）

## パフォーマンス最適化

### React最適化

- `React.memo` で不要な再レンダリングを防ぐ
- `useMemo` と `useCallback` を適切に使用
- コード分割（Code Splitting）を実装
- 遅延読み込み（Lazy Loading）を活用

### バンドルサイズ

- 不要なライブラリを削除
- Tree Shakingを活用
- 動的インポートを使用

## スタイリング

### CSS設計

- CSS Modules、Styled Components、Tailwind CSSなど
- 一貫したスタイリングアプローチ
- レスポンシブデザインを考慮

### アクセシビリティ

- セマンティックHTMLを使用
- ARIA属性を適切に使用
- キーボードナビゲーションをサポート
- スクリーンリーダーに対応

## フォーム管理

### フォームバリデーション

- クライアント側バリデーション
- リアルタイムバリデーション
- エラーメッセージの表示

### フォームライブラリ

- React Hook Form、Formikなど
- パフォーマンスを考慮した選択

## ルーティング

### ルーティング設計

- ネストされたルートを適切に設計
- ルートガード（認証チェック）
- 404ページの実装

## エラーハンドリング

### エラー境界

- Error Boundaryでエラーをキャッチ
- ユーザーフレンドリーなエラーメッセージ
- エラーログの送信

## テスト

- コンポーネントテスト: React Testing Library
- ユーザーインタラクションテスト
- スナップショットテスト（慎重に使用）
- E2Eテスト: Playwright、Cypress

## パフォーマンス監視

- Core Web Vitalsの監視
- パフォーマンスプロファイリング
- バンドルサイズの監視
